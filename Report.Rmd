---
title: "Evaluating the Impact of Baseline Hazard Function Misspecification on Treatment Effect Estimation"
author: "Charly Fowler, Hanfei Qi, Robert Tumasian III , and Haoyang Yi"
date: "February 24, 2021"
output: pdf_document
---

```{r, include=FALSE}

```

# Objectives

The goal of this study is to evaluate how misspecifying the baseline hazard function can influence the estimation of treatment effects in survival. This work focuses on conducting simulations to compare the exponential, Weibull and lognormal proportional hazards models to the semi-parameteric Cox proportional hazards model. We also investigate the impact of utilizing an overly complicated model (e.g., Cox) when a less complex model (e.g., exponential) is sufficient.

# Statistical Methods

Survival analysis is used to analyze time-to-event data (e.g., time to symptom onset or time to mortality). Survival functions ($S(t)$) measure the probability of an individual not experiencing an event past a certain time $t$. Similarly, hazard functions ($h(t)$) measure the instantaneous risk of failure at a certain time $t$, given that the individual has not experienced an event until that time. The hazard function can be expressed as $\frac{f(t)}{S(t)}$, where $f(t)$ is the distribution of survival times.\par

The purpose of proportional hazards modeling is to assess the effectiveness of a particular treatment ($X$) over survival time $T$, where the hazard ratio for patient $i$ at time $t$ is defined as $h_i(t)=h_0(t)e^{x_i\theta}$. Here, $h_0(t)$ denotes the pre-specified baseline hazard function, $x_i$ indicates treatment allocation (0=control, 1=treatment), and $\theta$ represents the log hazard ratio, or the hazard reduction among treated individuals compared to the control group. Thus, the proportional hazard can be expressed as $\frac{h(t|x_0)}{h(t|x_1)}=e^{\beta(x_0-x_1)}$, which is independent of survival time $t$.\par

Each of the models we consider implement different baseline hazard functions, except for the Cox model, which estimates $\theta$ without this specification. Baseline hazard functions for the exponential, Weibull, and lognormal models are provided in Table 1 below.

$$
\begin{array} {lccc}
\hline \text {} & \text { Exponential } & \text { Weibull } & \text { Lognormal } \\
\hline
\text { Baseline Hazard Function } & h_0(t) = \lambda & h_0(t) = \lambda\gamma t^{\gamma-1} & h_0(t)=\frac{\frac{1}{t \sigma \sqrt{2 \pi}} \exp \left[\frac{-1}{2 \sigma^{2}}\{\ln (t)-\mu\}^{2}\right]}{1-\Phi\left\{\frac{\ln (t)-\mu}{\sigma}\right\}} \\
\hline
\end{array}
$$

Table 1. Baseline hazard functions for the models considered in this study. The normal CDF and PDF are denoted by $\Phi$ and $\phi$, respectively. The Cox model does not utilize a baseline hazard function.

# Simulation Design
The simulation data were generated by using `simsurv` function in `simsurv` package. The treatment variable `trt` followed binomial distribution with probability of being 1 equaled to 0.5. For Weibull model, $\lambda = 0.1$, $\beta = -0.5$, and the $\gamma$ was user defined. The exponential model was a special case when $\gamma$ of Weibull model equaled to 1.


# Data Generation



# Measuring Performance

To assess model performance, we used mean-squared error (MSE) and ____. 

# Results


# Conclusions

